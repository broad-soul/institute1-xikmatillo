(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["643e1f16"],{"02fa":function(e,t,n){var a=n("268f"),i=n("e265"),o=n("a4bb"),r=n("c47a");function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=o(n);"function"===typeof i&&(s=s.concat(i(n).filter(function(e){return a(n,e).enumerable}))),s.forEach(function(t){r(e,t,n[t])})}return e}e.exports=s},"1b04":function(e,t,n){},"268f":function(e,t,n){e.exports=n("fde4")},"2f3d":function(e,t,n){"use strict";var a=n("1b04"),i=n.n(a);i.a},"32a6":function(e,t,n){var a=n("241e"),i=n("c3a1");n("ce7e")("keys",function(){return function(e){return i(a(e))}})},"454f":function(e,t,n){n("46a7");var a=n("584a").Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},"46a7":function(e,t,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"85f2":function(e,t,n){e.exports=n("454f")},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},"91a4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"page__residents"},[n("div",{staticClass:"row justify-center profile"},[n("div",{staticClass:"col-12 q-pa-md"},[n("q-table",{staticClass:"page__residents-sticky-table",attrs:{data:e.residents,columns:e.columns,"row-key":"id",flat:"",bordered:"","visible-columns":e.visibleColumns,filter:e.filter,loading:e.loading},scopedSlots:e._u([{key:"top",fn:function(t){return[n("div",{staticClass:"col-2 q-table__title"},[e._v("Residents")]),n("q-space"),n("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!0),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("q-select",{staticClass:"ml-4",staticStyle:{"min-width":"50px"},attrs:{multiple:"",borderless:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),n("q-toggle",{attrs:{color:"light-blue",label:"Показать все"},model:{value:e.changeVisibleColumns,callback:function(t){e.changeVisibleColumns=t},expression:"changeVisibleColumns"}}),n("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}},{key:"body",fn:function(t){return n("q-tr",{staticClass:"cursor-pointer",attrs:{id:t.id,props:t}},[n("q-td",{key:"id",attrs:{props:t}},[e._v(e._s(t.row.id))]),n("q-td",{key:"place_of_education",attrs:{props:t}},[e._v(e._s(t.row.place_of_education))]),n("q-td",{key:"direction_code",attrs:{props:t}},[e._v(e._s(t.row.direction_code))]),n("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),n("q-td",{key:"surname",attrs:{props:t}},[e._v(e._s(t.row.surname))]),n("q-td",{key:"father_name",attrs:{props:t}},[e._v(e._s(t.row.father_name))]),n("q-td",{key:"date_of_birth",attrs:{props:t}},[e._v(e._s(t.row.date_of_birth))]),n("q-td",{key:"citizenship",attrs:{props:t}},[e._v(e._s(t.row.citizenship))]),n("q-td",{key:"client_requisite",attrs:{props:t}},[e._v(e._s(t.row.client_requisite))]),n("q-td",{key:"residential_address",attrs:{props:t}},[e._v(e._s(t.row.residential_address))]),n("q-td",{key:"school_region",attrs:{props:t}},[e._v(e._s(t.row.school_region))]),n("q-td",{key:"school_district",attrs:{props:t}},[e._v(e._s(t.row.school_district))]),n("q-td",{key:"school_number_or_name",attrs:{props:t}},[e._v(e._s(t.row.school_number_or_name))]),n("q-td",{key:"graduation_year",attrs:{props:t}},[e._v(e._s(t.row.graduation_year))]),n("q-td",{key:"education_language",attrs:{props:t}},[e._v(e._s(t.row.education_language))]),n("q-td",{key:"certificate_number",attrs:{props:t}},[e._v(e._s(t.row.certificate_number))]),n("q-td",{key:"act_number",attrs:{props:t}},[e._v(e._s(t.row.act_number))]),n("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),n("q-td",{key:"documents_graduate_9_grade",attrs:{props:t}},[e._v(e._s(t.row.documents_graduate_9_grade))]),n("q-td",{key:"created_at",attrs:{props:t}},[e._v(e._s(t.row.created_at))]),n("q-td",{key:"name_archive_with_data",attrs:{props:t}},[n("q-btn",{staticClass:"w-100p",attrs:{color:"secondary"},on:{click:function(n){return e.download(t.row.name_archive_with_data)}}},[n("q-icon",{attrs:{name:"cloud_download",color:"white"}})],1)],1),n("q-td",{key:"actions",attrs:{props:t}},[n("q-btn",{attrs:{color:"red"},on:{click:function(n){return e.deleteResident(t.row.id)}}},[n("q-icon",{attrs:{name:"delete_forever",color:"white"}})],1),n("q-btn",{staticClass:"ml-2",attrs:{color:"info"},on:{click:function(n){return e.viewResident(t.row.id)}}},[n("q-icon",{attrs:{name:"remove_red_eye",color:"white"}})],1),n("q-btn",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:function(n){return e.download(t.row.name_archive_with_data)}}},[n("q-icon",{attrs:{name:"cloud_download",color:"white"}})],1)],1)],1)}}])})],1)])])},i=[],o=n("02fa"),r=n.n(o),s=(n("551c"),n("06db"),n("097d"),n("2f62")),l={name:"AdminResidents",meta:{titleTemplate:function(e){return"".concat(e," - Residents")},meta:{description:{name:"description",content:"Residents Page 1"},keywords:{name:"keywords",content:"Residents website"}}},created:function(){var e=this;this.$axios.defaults.headers.Authorization="Bearer "+this.getToken,this.visibleColumns=this.getVisibleColumnsResident,this.loading=!0,this.$axios.get("get_residents").then(function(t){e.residents=t.data.residents}).finally(function(){e.loading=!1})},mounted:function(){},activated:function(){},deactivated:function(){},data:function(){return{changeVisibleColumns:!1,loading:!1,filter:"",visibleColumns:[],columns:[{align:"left",name:"id",label:"Id",field:function(e){return e.id},format:function(e){return"".concat(e)},sortable:!0},{align:"left",name:"place_of_education",label:"Наименование учебного заведения",field:"place_of_education",format:function(e){return"".concat(e)},sortable:!0},{align:"left",name:"direction_code",label:"Направление",field:"direction_code",sortable:!0},{align:"left",name:"name",label:"Имя",field:"name",sortable:!0},{align:"left",name:"surname",label:"Фамилия",field:"surname",sortable:!0},{align:"left",name:"father_name",label:"Отчество",field:"father_name",sortable:!0},{align:"left",name:"date_of_birth",label:"Дата рождения",field:"date_of_birth",sortable:!0},{align:"left",name:"citizenship",label:"Гражданство",field:"citizenship",sortable:!0},{align:"left",name:"client_requisite",label:"Серия и номер пасспорта паспорта / свидетельство о рождения",field:"client_requisite",sortable:!0},{align:"left",name:"residential_address",label:"Адрес проживания",field:"residential_address",sortable:!0},{align:"left",name:"school_region",label:"Школа (регион/область)",field:"school_region",sortable:!0},{align:"left",name:"school_district",label:"Школа(район/город)",field:"school_district",sortable:!0},{align:"left",name:"school_number_or_name",label:"Номер школы",field:"school_number_or_name",sortable:!0},{align:"left",name:"graduation_year",label:"Год окончания школы",field:"graduation_year",sortable:!0},{align:"left",name:"education_language",label:"Язык оубчения",field:"education_language",sortable:!0},{align:"left",name:"certificate_number",label:"Номер аттестата",field:"certificate_number",sortable:!0},{align:"left",name:"actions",field:"actions",label:"Действие"},{align:"left",name:"act_number",label:"Номер акта",field:"act_number",sortable:!0},{align:"left",name:"phone",label:"Номер телефона",field:"phone",sortable:!0},{align:"left",name:"documents_graduate_9_grade",label:"Документ выпускника 9 класса",field:"documents_graduate_9_grade",sortable:!0},{align:"left",name:"created_at",label:"Дата подачи документов",field:"created_at",sortable:!0},{align:"left",name:"name_archive_with_data",label:"Архив с данными",sortable:!0}],residents:[],resident:[]}},computed:r()({},Object(s["c"])(["getToken","getVisibleColumnsResident","getAllColumnsResident"])),watch:{changeVisibleColumns:function(e){this.visibleColumns=e?this.getAllColumnsResident:this.getVisibleColumnsResident}},methods:r()({},Object(s["b"])(["downloadFile"]),{deleteResident:function(e){var t=this;this.$q.dialog({title:"Подтвердите",message:"Вы точно хотите удалить?",cancel:!0,persistent:!0}).onOk(function(){t.$axios.post("delete_resident",{id:e}).then(function(){t.$q.notify({color:"teal",icon:"home",message:"Резидент удалён",position:"center",timeout:1500}),t.residents.forEach(function(n,a){if(n.id===e)return t.residents.splice(a,1)})})})},viewResident:function(e){this.$router.push("/admin/residents/show/"+e)},download:function(e){var t=this;this.loading=!0,this.downloadFile(e).finally(function(){t.loading=!1})}})},c=l,d=(n("2f3d"),n("2877")),u=Object(d["a"])(c,a,i,!1,null,null,null);t["default"]=u.exports},a4bb:function(e,t,n){e.exports=n("8aae")},bf90:function(e,t,n){var a=n("36c3"),i=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return i(a(e),t)}})},c47a:function(e,t,n){var a=n("85f2");function i(e,t,n){return t in e?a(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=i},ce7e:function(e,t,n){var a=n("63b6"),i=n("584a"),o=n("294c");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),a(a.S+a.F*o(function(){n(1)}),"Object",r)}},e265:function(e,t,n){e.exports=n("ed33")},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(e,t,n){n("bf90");var a=n("584a").Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}}}]);