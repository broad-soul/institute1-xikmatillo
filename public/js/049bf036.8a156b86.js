(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["049bf036"],{"02fa":function(e,t,n){var i=n("268f"),a=n("e265"),o=n("a4bb"),s=n("c47a");function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=o(n);"function"===typeof a&&(r=r.concat(a(n).filter(function(e){return i(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}e.exports=r},"268f":function(e,t,n){e.exports=n("fde4")},"32a6":function(e,t,n){var i=n("241e"),a=n("c3a1");n("ce7e")("keys",function(){return function(e){return a(i(e))}})},"454f":function(e,t,n){n("46a7");var i=n("584a").Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},"46a7":function(e,t,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"85f2":function(e,t,n){e.exports=n("454f")},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},a4bb:function(e,t,n){e.exports=n("8aae")},ab1d:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"page__residents"},[n("div",{staticClass:"row justify-center profile"},[n("div",{staticClass:"col-12 q-pa-md"},[n("q-table",{staticClass:"page__residents-sticky-table",attrs:{data:e.non_residents,columns:e.columns,"row-key":"id",flat:"",bordered:"","visible-columns":e.visibleColumns,filter:e.filter,loading:e.loading},scopedSlots:e._u([{key:"top",fn:function(t){return[n("div",{staticClass:"col-2 q-table__title"},[e._v("NonResidents")]),n("q-space"),n("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!0),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("q-select",{staticClass:"ml-4",staticStyle:{"min-width":"50px"},attrs:{multiple:"",borderless:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),n("q-toggle",{attrs:{color:"light-blue",label:"Показать все"},model:{value:e.changeVisibleColumns,callback:function(t){e.changeVisibleColumns=t},expression:"changeVisibleColumns"}}),n("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}},{key:"body",fn:function(t){return n("q-tr",{staticClass:"cursor-pointer",attrs:{id:t.id,props:t}},[n("q-td",{key:"id",attrs:{props:t}},[e._v(e._s(t.row.id))]),n("q-td",{key:"direction_code",attrs:{props:t}},[e._v(e._s(t.row.direction_code))]),n("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),n("q-td",{key:"surname",attrs:{props:t}},[e._v(e._s(t.row.surname))]),n("q-td",{key:"father_name",attrs:{props:t}},[e._v(e._s(t.row.father_name))]),n("q-td",{key:"date_of_birth",attrs:{props:t}},[e._v(e._s(t.row.date_of_birth))]),n("q-td",{key:"citizenship",attrs:{props:t}},[e._v(e._s(t.row.citizenship))]),n("q-td",{key:"client_requisite",attrs:{props:t}},[e._v(e._s(t.row.client_requisite))]),n("q-td",{key:"residential_address",attrs:{props:t}},[e._v(e._s(t.row.residential_address))]),n("q-td",{key:"education_language",attrs:{props:t}},[e._v(e._s(t.row.education_language))]),n("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),n("q-td",{key:"documents_graduate_9_grade",attrs:{props:t}},[e._v(e._s(t.row.documents_graduate_9_grade))]),n("q-td",{key:"created_at",attrs:{props:t}},[e._v(e._s(t.row.created_at))]),n("q-td",{key:"name_archive_with_data",attrs:{props:t}},[n("q-btn",{staticClass:"w-100p",attrs:{color:"secondary"},on:{click:function(n){return e.download(t.row.name_archive_with_data)}}},[n("q-icon",{attrs:{name:"cloud_download",color:"white"}})],1)],1),n("q-td",{key:"actions",attrs:{props:t}},[n("q-btn",{attrs:{color:"red"},on:{click:function(n){return e.deleteNonResident(t.row.id)}}},[n("q-icon",{attrs:{name:"delete_forever",color:"white"}})],1),n("q-btn",{staticClass:"ml-2",attrs:{color:"info"},on:{click:function(n){return e.viewResident(t.row.id)}}},[n("q-icon",{attrs:{name:"remove_red_eye",color:"white"}})],1),n("q-btn",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:function(n){return e.download(t.row.name_archive_with_data)}}},[n("q-icon",{attrs:{name:"cloud_download",color:"white"}})],1)],1)],1)}}])})],1)])])},a=[],o=n("02fa"),s=n.n(o),r=(n("551c"),n("06db"),n("097d"),n("2f62")),l={name:"AdminResidents",meta:{titleTemplate:function(e){return"".concat(e," - Residents")},meta:{description:{name:"description",content:"Residents Page 1"},keywords:{name:"keywords",content:"Residents website"}}},created:function(){var e=this;this.$axios.defaults.headers.Authorization="Bearer "+this.getToken,this.visibleColumns=this.getVisibleColumnsNonResident,this.loading=!0,this.$axios.get("get_non_residents").then(function(t){e.non_residents=t.data.non_residents}).finally(function(){e.loading=!1})},mounted:function(){},activated:function(){},deactivated:function(){},data:function(){return{changeVisibleColumns:!1,loading:!1,filter:"",visibleColumns:[],columns:[{align:"left",name:"id",label:"Id",field:function(e){return e.id},format:function(e){return"".concat(e)},sortable:!0},{align:"left",name:"direction_code",field:"direction_code",label:"Направление",sortable:!0},{align:"left",name:"name",field:"name",label:"Имя",sortable:!0},{align:"left",name:"surname",field:"surname",label:"Фамилия",sortable:!0},{align:"left",name:"father_name",field:"father_name",label:"Отчество",sortable:!0},{align:"left",name:"date_of_birth",field:"date_of_birth",label:"Дата рождения",sortable:!0},{align:"left",name:"citizenship",field:"citizenship",label:"Гражданство",sortable:!0},{align:"left",name:"client_requisite",field:"client_requisite",label:"Серия и номер пасспорта паспорта / свидетельство о рождения",sortable:!0},{align:"left",name:"residential_address",field:"residential_address",label:"Адрес проживания",sortable:!0},{align:"left",name:"education_language",field:"education_language",label:"Язык оубчения",sortable:!0},{align:"left",name:"actions",field:"actions",label:"Действие"},{align:"left",name:"phone",field:"phone",label:"Номер телефона",sortable:!0},{align:"left",name:"created_at",field:"created_at",label:"Дата подачи документов",sortable:!0},{align:"left",name:"name_archive_with_data",field:"name_archive_with_data",label:"Архив с данными",sortable:!0}],non_residents:[],resident:[]}},computed:s()({},Object(r["c"])(["getToken","getVisibleColumnsNonResident","getAllColumnsNonResident"])),watch:{changeVisibleColumns:function(e){this.visibleColumns=e?this.getAllColumnsNonResident:this.getVisibleColumnsNonResident}},methods:s()({},Object(r["b"])(["downloadFile"]),{deleteNonResident:function(e){var t=this;this.$q.dialog({title:"Подтвердите",message:"Вы точно хотите удалить?",cancel:!0,persistent:!0}).onOk(function(){t.$axios.post("delete_non_resident",{id:e}).then(function(){t.$q.notify({color:"teal",icon:"home",message:"Не Резидент удалён",position:"center",timeout:1500}),t.non_residents.forEach(function(n,i){if(n.id===e)return t.non_residents.splice(i,1)})})})},viewResident:function(e){this.$router.push("/admin/non-residents/show/"+e)},download:function(e){var t=this;this.loading=!0,this.downloadFile(e).finally(function(){t.loading=!1})}})},c=l,d=(n("f38a"),n("2877")),u=Object(d["a"])(c,i,a,!1,null,null,null);t["default"]=u.exports},bf90:function(e,t,n){var i=n("36c3"),a=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return a(i(e),t)}})},c47a:function(e,t,n){var i=n("85f2");function a(e,t,n){return t in e?i(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=a},ce7e:function(e,t,n){var i=n("63b6"),a=n("584a"),o=n("294c");e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},d187:function(e,t,n){},e265:function(e,t,n){e.exports=n("ed33")},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols},f38a:function(e,t,n){"use strict";var i=n("d187"),a=n.n(i);a.a},fde4:function(e,t,n){n("bf90");var i=n("584a").Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}}}]);