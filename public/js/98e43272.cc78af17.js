(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["98e43272"],{"02fa":function(t,e,a){var n=a("268f"),s=a("e265"),i=a("a4bb"),r=a("c47a");function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=i(a);"function"===typeof s&&(o=o.concat(s(a).filter(function(t){return n(a,t).enumerable}))),o.forEach(function(e){r(t,e,a[e])})}return t}t.exports=o},"252b":function(t,e,a){},"268f":function(t,e,a){t.exports=a("fde4")},"32a6":function(t,e,a){var n=a("241e"),s=a("c3a1");a("ce7e")("keys",function(){return function(t){return s(n(t))}})},"454f":function(t,e,a){a("46a7");var n=a("584a").Object;t.exports=function(t,e,a){return n.defineProperty(t,e,a)}},"46a7":function(t,e,a){var n=a("63b6");n(n.S+n.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"51b6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-scroll-area",{staticStyle:{height:"calc(100vh - 56px)"},attrs:{"thumb-style":t.getThumbStyle}},[a("q-page",{},[a("div",{staticClass:"q-pa-md"},[a("q-breadcrumbs",[a("q-breadcrumbs-el",{attrs:{icon:"home",label:"Home",to:"/"}}),a("q-breadcrumbs-el",{attrs:{label:"Dashboard",to:"/admin"}}),a("q-breadcrumbs-el",{attrs:{label:"Gallery"}})],1)],1),a("div",{staticClass:"q-pa-md q-gutter-y-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-7 col-lg-5"},[a("q-uploader",{ref:"uploader_image_gallery",staticClass:"mb-3 uploader_image_gallery",staticStyle:{width:"100%"},attrs:{disable:t.loading,extensions:".jpg,.jpeg,.png",accept:".jpg, .jpeg, .pdf, image/jpeg, .png",url:"/api/new_image_gallery",headers:[{name:"Authorization",value:"Bearer "+t.getToken}],label:"Max file size (0.5 Mb)",multiple:"","max-file-size":500048},on:{uploaded:t.uploadedImages},scopedSlots:t._u([{key:"list",fn:function(e){return[a("q-list",{attrs:{separator:""}},t._l(e.files,function(n){return a("q-item",{key:n.name},[a("q-item-section",[a("q-item-label",{staticClass:"full-width ellipsis"},[t._v("\n                      "+t._s(n.name)+"\n                    ")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                      Status:\n                      "),a("span",{staticClass:"uploader_status_span",class:"idle"===n.__status?"uploader_status_idle":"uploading"===n.__status?"uploader_status_uploading":"uploaded"===n.__status?"uploader_status_uploaded":"uploader_status_failed"},[t._v("\n                    "+t._s(n.__status)+"\n                  ")])]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                      "+t._s(n.__sizeLabel)+" / "+t._s(n.__progressLabel)+"\n                    ")])],1),n.__img?a("q-item-section",{staticClass:"gt-xs",attrs:{thumbnail:""}},[a("img",{attrs:{src:n.__img.src}})]):t._e(),a("q-item-section",{attrs:{top:"",side:""}},[a("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(t){return e.removeFile(n)}}})],1)],1)}),1)]}}])})],1)])]),a("div",{staticClass:"q-pa-md q-gutter-y-md"},[a("h4",{staticClass:"my-1"},[t._v("All images")])]),a("div",{staticClass:"q-pa-sm q-gutter-y-md"},[a("div",{staticClass:"row"},t._l(this.images,function(e){return a("div",{key:e.id,staticClass:"col-12 col-sm-6 col-md-4 q-pa-sm"},[a("q-img",{attrs:{"spinner-color":"teal",transition:"fade",ratio:4/3,src:t.getPath(e)},on:{dblclick:function(a){return t.deleteImage(e)}},scopedSlots:t._u([{key:"error",fn:function(){return[a("div",{staticClass:"absolute-full flex flex-center bg-cyan text-white"},[t._v("\n                Cannot load image\n              ")])]},proxy:!0}],null,!0)})],1)}),0)])])],1)},s=[],i=(a("7f7f"),a("02fa")),r=a.n(i),o=a("2f62"),l={name:"Gallery",meta:{titleTemplate:function(t){return"".concat(t," - Gallery")},meta:{description:{name:"description",content:"Gallery Page 1"},keywords:{name:"keywords",content:"Gallery website"}}},data:function(){return{loading:!1,images:[]}},computed:r()({},Object(o["c"])(["getToken","getThumbStyle","mobileDetect"])),beforeMount:function(){this.getImages()},mounted:function(){},methods:{getPath:function(t){return"/storage/"+t.name},getImages:function(){var t=this;this.$axios.get("get_image_gallery").then(function(e){t.images=e.data})},deleteImage:function(t){var e=this;this.$q.dialog({title:"Подтвердите",message:"Вы точно хотите удалить?",cancel:!0,persistent:!0}).onOk(function(){e.$axios.post("delete_image_gallery",{id:t.id,namr:t.name}).then(function(){e.$q.notify({color:"teal",icon:"home",message:"Image delited",position:"center",timeout:1500}),e.images.forEach(function(a,n){if(a.id===t.id)return e.images.splice(n,1)})})})}}},c=l,u=(a("8de3"),a("2877")),f=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=f.exports},"85f2":function(t,e,a){t.exports=a("454f")},"8aae":function(t,e,a){a("32a6"),t.exports=a("584a").Object.keys},"8de3":function(t,e,a){"use strict";var n=a("252b"),s=a.n(n);s.a},a4bb:function(t,e,a){t.exports=a("8aae")},bf90:function(t,e,a){var n=a("36c3"),s=a("bf0b").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return s(n(t),e)}})},c47a:function(t,e,a){var n=a("85f2");function s(t,e,a){return e in t?n(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}t.exports=s},ce7e:function(t,e,a){var n=a("63b6"),s=a("584a"),i=a("294c");t.exports=function(t,e){var a=(s.Object||{})[t]||Object[t],r={};r[t]=e(a),n(n.S+n.F*i(function(){a(1)}),"Object",r)}},e265:function(t,e,a){t.exports=a("ed33")},ed33:function(t,e,a){a("014b"),t.exports=a("584a").Object.getOwnPropertySymbols},fde4:function(t,e,a){a("bf90");var n=a("584a").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}}}]);